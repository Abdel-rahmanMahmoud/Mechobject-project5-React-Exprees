{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Niceeee\\\\Desktop\\\\React-project\\\\mechobject\\\\src\\\\pages\\\\Products.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Container, Row, Col, Button, Card, Alert, Pagination, ButtonGroup } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../styles/products.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"http://localhost:8000/api\";\nexport default function Products() {\n  _s();\n  const navigate = useNavigate();\n  const [products, setProducts] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [currentCategory, setCurrentCategory] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\n  useEffect(() => {\n    loadProducts(currentPage, currentCategory);\n    // eslint-disable-next-line\n  }, [currentPage, currentCategory]);\n  const getFetchOptions = (additional = {}) => ({\n    credentials: \"include\",\n    ...additional\n  });\n  const loadProducts = async (page, category) => {\n    const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    if (!user.id) {\n      setIsLoggedIn(false);\n      return;\n    }\n    setIsLoggedIn(true);\n    try {\n      const favRes = await fetch(`${API_BASE_URL}/favorites`, getFetchOptions());\n      const cartRes = await fetch(`${API_BASE_URL}/cart`, getFetchOptions());\n      if (favRes.ok && cartRes.ok) {\n        const favData = await favRes.json();\n        const cartData = await cartRes.json();\n        setFavorites(favData.data.favorites.map(f => f.productId));\n        setCart(cartData.data.cartItems.map(i => i.productId));\n      }\n      let url = `${API_BASE_URL}/products?page=${page}&limit=4`;\n      if (category) url += `&category=${encodeURIComponent(category)}`;\n      const prodRes = await fetch(url);\n      const prodData = await prodRes.json();\n      if (prodRes.ok) {\n        setProducts(prodData.data.products);\n        setTotalPages(prodData.data.totalPages);\n        setCurrentPage(prodData.data.currentPage);\n      }\n    } catch (error) {\n      console.error(\"Failed to load products\", error);\n    }\n  };\n  const toggleFavorite = async productId => {\n    const isFav = favorites.includes(productId);\n    try {\n      const url = `${API_BASE_URL}/favorites${isFav ? `/${productId}` : \"\"}`;\n      const options = getFetchOptions({\n        method: isFav ? \"DELETE\" : \"POST\",\n        headers: isFav ? {} : {\n          \"Content-Type\": \"application/json\"\n        },\n        body: isFav ? null : JSON.stringify({\n          productId\n        })\n      });\n      const res = await fetch(url, options);\n      if (res.ok) {\n        loadProducts(currentPage, currentCategory);\n      }\n    } catch (e) {\n      alert(\"Network error\");\n    }\n  };\n  const toggleCart = async productId => {\n    const inCart = cart.includes(productId);\n    try {\n      const url = `${API_BASE_URL}/cart${inCart ? `/${productId}` : \"\"}`;\n      const options = getFetchOptions({\n        method: inCart ? \"DELETE\" : \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: inCart ? null : JSON.stringify({\n          productId,\n          quantity: 1\n        })\n      });\n      const res = await fetch(url, options);\n      if (res.ok) {\n        loadProducts(currentPage, currentCategory);\n      }\n    } catch (e) {\n      alert(\"Network error\");\n    }\n  };\n  const viewProduct = id => {\n    navigate(`/product-details/${id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-4 text-white\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"#222d32\",\n            padding: \"2rem\",\n            borderRadius: 15\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            vertical: true,\n            children: [\"\", \"Air Conditioning\", \"Plumbing\", \"Fire Fighting\"].map(cat => /*#__PURE__*/_jsxDEV(Button, {\n              variant: currentCategory === cat ? \"primary\" : \"outline-primary\",\n              onClick: () => setCurrentCategory(cat),\n              className: \"mb-2 text-start\",\n              children: cat || \"All Products\"\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"warning\",\n          children: [\"Please \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/login\",\n            children: \"login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 22\n          }, this), \" to access products.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: products.length === 0 ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"text-center py-5\",\n            children: \"No products found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this) : products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                background: \"#222d32\",\n                color: \"white\",\n                borderRadius: 15\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                variant: \"top\",\n                src: product.image ? `http://localhost:8000/uploads/products/${product.image}` : \"https://media1.thehungryjpeg.com/thumbs2/ori_3672498_nxoe786r8fhp72m1wbao1au7dw8qehgwz9dzn8q8_white-studio-background-empty-gray-room-blank-product-display-backdr.jpg\",\n                style: {\n                  height: 200,\n                  objectFit: \"cover\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                className: \"d-flex flex-column\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  style: {\n                    flexGrow: 1\n                  },\n                  children: product.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  style: {\n                    color: \"#007bff\"\n                  },\n                  children: [\"$\", product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"info\",\n                    size: \"sm\",\n                    onClick: () => viewProduct(product.id),\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: cart.includes(product.id) ? \"danger\" : \"success\",\n                    size: \"sm\",\n                    onClick: () => toggleCart(product.id),\n                    children: cart.includes(product.id) ? \"Remove from Cart\" : \"Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: favorites.includes(product.id) ? \"danger\" : \"primary\",\n                    size: \"sm\",\n                    onClick: () => toggleFavorite(product.id),\n                    children: favorites.includes(product.id) ? \"Remove from Favorites\" : \"Add to Favorites\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(Pagination, {\n          className: \"justify-content-center mt-4\",\n          children: [currentPage > 1 && /*#__PURE__*/_jsxDEV(Pagination.Prev, {\n            onClick: () => setCurrentPage(currentPage - 1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 35\n          }, this), [...Array(totalPages)].map((_, i) => /*#__PURE__*/_jsxDEV(Pagination.Item, {\n            active: i + 1 === currentPage,\n            onClick: () => setCurrentPage(i + 1),\n            children: i + 1\n          }, i + 1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this)), currentPage < totalPages && /*#__PURE__*/_jsxDEV(Pagination.Next, {\n            onClick: () => setCurrentPage(currentPage + 1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"Gz8j1zeMU8FdpuOvgBM0KZljIDY=\", false, function () {\n  return [useNavigate];\n});\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["useEffect","useState","Container","Row","Col","Button","Card","Alert","Pagination","ButtonGroup","useNavigate","jsxDEV","_jsxDEV","API_BASE_URL","Products","_s","navigate","products","setProducts","favorites","setFavorites","cart","setCart","currentCategory","setCurrentCategory","currentPage","setCurrentPage","totalPages","setTotalPages","isLoggedIn","setIsLoggedIn","loadProducts","getFetchOptions","additional","credentials","page","category","user","JSON","parse","localStorage","getItem","id","favRes","fetch","cartRes","ok","favData","json","cartData","data","map","f","productId","cartItems","i","url","encodeURIComponent","prodRes","prodData","error","console","toggleFavorite","isFav","includes","options","method","headers","body","stringify","res","e","alert","toggleCart","inCart","quantity","viewProduct","className","children","md","style","background","padding","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","vertical","cat","variant","onClick","href","length","product","color","Img","src","image","height","objectFit","Body","Title","name","Text","flexGrow","description","price","size","Prev","Array","_","Item","active","Next","_c","$RefreshReg$"],"sources":["C:/Users/Niceeee/Desktop/React-project/mechobject/src/pages/Products.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Card,\r\n  Alert,\r\n  Pagination,\r\n  ButtonGroup,\r\n} from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../styles/products.css\";\r\n\r\nconst API_BASE_URL = \"http://localhost:8000/api\";\r\n\r\nexport default function Products() {\r\n  const navigate = useNavigate();\r\n  const [products, setProducts] = useState([]);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [cart, setCart] = useState([]);\r\n  const [currentCategory, setCurrentCategory] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadProducts(currentPage, currentCategory);\r\n    // eslint-disable-next-line\r\n  }, [currentPage, currentCategory]);\r\n\r\n  const getFetchOptions = (additional = {}) => ({\r\n    credentials: \"include\",\r\n    ...additional,\r\n  });\r\n\r\n  const loadProducts = async (page, category) => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n    if (!user.id) {\r\n      setIsLoggedIn(false);\r\n      return;\r\n    }\r\n    setIsLoggedIn(true);\r\n    try {\r\n      const favRes = await fetch(`${API_BASE_URL}/favorites`, getFetchOptions());\r\n      const cartRes = await fetch(`${API_BASE_URL}/cart`, getFetchOptions());\r\n      if (favRes.ok && cartRes.ok) {\r\n        const favData = await favRes.json();\r\n        const cartData = await cartRes.json();\r\n        setFavorites(favData.data.favorites.map((f) => f.productId));\r\n        setCart(cartData.data.cartItems.map((i) => i.productId));\r\n      }\r\n\r\n      let url = `${API_BASE_URL}/products?page=${page}&limit=4`;\r\n      if (category) url += `&category=${encodeURIComponent(category)}`;\r\n      const prodRes = await fetch(url);\r\n      const prodData = await prodRes.json();\r\n\r\n      if (prodRes.ok) {\r\n        setProducts(prodData.data.products);\r\n        setTotalPages(prodData.data.totalPages);\r\n        setCurrentPage(prodData.data.currentPage);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to load products\", error);\r\n    }\r\n  };\r\n\r\n  const toggleFavorite = async (productId) => {\r\n    const isFav = favorites.includes(productId);\r\n    try {\r\n      const url = `${API_BASE_URL}/favorites${isFav ? `/${productId}` : \"\"}`;\r\n      const options = getFetchOptions({\r\n        method: isFav ? \"DELETE\" : \"POST\",\r\n        headers: isFav ? {} : { \"Content-Type\": \"application/json\" },\r\n        body: isFav ? null : JSON.stringify({ productId }),\r\n      });\r\n      const res = await fetch(url, options);\r\n      if (res.ok) {\r\n        loadProducts(currentPage, currentCategory);\r\n      }\r\n    } catch (e) {\r\n      alert(\"Network error\");\r\n    }\r\n  };\r\n\r\n  const toggleCart = async (productId) => {\r\n    const inCart = cart.includes(productId);\r\n    try {\r\n      const url = `${API_BASE_URL}/cart${inCart ? `/${productId}` : \"\"}`;\r\n      const options = getFetchOptions({\r\n        method: inCart ? \"DELETE\" : \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: inCart ? null : JSON.stringify({ productId, quantity: 1 }),\r\n      });\r\n      const res = await fetch(url, options);\r\n      if (res.ok) {\r\n        loadProducts(currentPage, currentCategory);\r\n      }\r\n    } catch (e) {\r\n      alert(\"Network error\");\r\n    }\r\n  };\r\n\r\n  const viewProduct = (id) => {\r\n    navigate(`/product-details/${id}`);\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-4 text-white\">\r\n      <Row>\r\n        <Col md={3}>\r\n          <div style={{ background: \"#222d32\", padding: \"2rem\", borderRadius: 15 }}>\r\n            <h4>Categories</h4>\r\n            <ButtonGroup vertical>\r\n              {[\"\", \"Air Conditioning\", \"Plumbing\", \"Fire Fighting\"].map((cat) => (\r\n                <Button\r\n                  key={cat}\r\n                  variant={currentCategory === cat ? \"primary\" : \"outline-primary\"}\r\n                  onClick={() => setCurrentCategory(cat)}\r\n                  className=\"mb-2 text-start\"\r\n                >\r\n                  {cat || \"All Products\"}\r\n                </Button>\r\n              ))}\r\n            </ButtonGroup>\r\n          </div>\r\n        </Col>\r\n\r\n        <Col md={9}>\r\n          <h3>Products</h3>\r\n          {!isLoggedIn && (\r\n            <Alert variant=\"warning\">\r\n              Please <a href=\"/login\">login</a> to access products.\r\n            </Alert>\r\n          )}\r\n          <Row>\r\n            {products.length === 0 ? (\r\n              <Col className=\"text-center py-5\">No products found</Col>\r\n            ) : (\r\n              products.map((product) => (\r\n                <Col md={6} key={product.id} className=\"mb-4\">\r\n                  <Card style={{ background: \"#222d32\", color: \"white\", borderRadius: 15 }}>\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={\r\n                        product.image\r\n                          ? `http://localhost:8000/uploads/products/${product.image}`\r\n                          : \"https://media1.thehungryjpeg.com/thumbs2/ori_3672498_nxoe786r8fhp72m1wbao1au7dw8qehgwz9dzn8q8_white-studio-background-empty-gray-room-blank-product-display-backdr.jpg\"\r\n                      }\r\n                      style={{ height: 200, objectFit: \"cover\" }}\r\n                    />\r\n                    <Card.Body className=\"d-flex flex-column\">\r\n                      <Card.Title>{product.name}</Card.Title>\r\n                      <Card.Text style={{ flexGrow: 1 }}>{product.description}</Card.Text>\r\n                      <h5 style={{ color: \"#007bff\" }}>${product.price}</h5>\r\n                      <div className=\"d-flex gap-2\">\r\n                        <Button variant=\"info\" size=\"sm\" onClick={() => viewProduct(product.id)}>View</Button>\r\n                        <Button\r\n                          variant={cart.includes(product.id) ? \"danger\" : \"success\"}\r\n                          size=\"sm\"\r\n                          onClick={() => toggleCart(product.id)}\r\n                        >\r\n                          {cart.includes(product.id) ? \"Remove from Cart\" : \"Add to Cart\"}\r\n                        </Button>\r\n                        <Button\r\n                          variant={favorites.includes(product.id) ? \"danger\" : \"primary\"}\r\n                          size=\"sm\"\r\n                          onClick={() => toggleFavorite(product.id)}\r\n                        >\r\n                          {favorites.includes(product.id) ? \"Remove from Favorites\" : \"Add to Favorites\"}\r\n                        </Button>\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              ))\r\n            )}\r\n          </Row>\r\n\r\n          {totalPages > 1 && (\r\n            <Pagination className=\"justify-content-center mt-4\">\r\n              {currentPage > 1 && <Pagination.Prev onClick={() => setCurrentPage(currentPage - 1)} />}\r\n              {[...Array(totalPages)].map((_, i) => (\r\n                <Pagination.Item key={i + 1} active={i + 1 === currentPage} onClick={() => setCurrentPage(i + 1)}>\r\n                  {i + 1}\r\n                </Pagination.Item>\r\n              ))}\r\n              {currentPage < totalPages && <Pagination.Next onClick={() => setCurrentPage(currentPage + 1)} />}\r\n            </Pagination>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}